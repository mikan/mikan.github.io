<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <title>Hangouts Chat ã® Incoming Webhook ã‚’ Go ã§å©ã  &middot; Yutaka ğŸŠ Kato</title>
  <meta property="og:image" content="https://mikan.github.io/ogp.png" />


<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1">


<meta name="description" content="" />

<meta name="keywords" content="gsuite, golang, hangouts-chat, mail, ">


<meta property="og:title" content="Hangouts Chat ã® Incoming Webhook ã‚’ Go ã§å©ã  &middot; Yutaka ğŸŠ Kato ">
<meta property="og:site_name" content="Yutaka ğŸŠ Kato"/>
<meta property="og:url" content="https://mikan.github.io/2018/03/15/writing-hangouts-chat-incoming-webhook-with-go/" />
<meta property="og:locale" content="ja-jp">


<meta property="og:type" content="article" />
<meta property="og:description" content=""/>
<meta property="og:article:published_time" content="2018-03-15T22:41:43&#43;09:00" />
<meta property="og:article:modified_time" content="2018-03-15T22:41:43&#43;09:00" />

  
    
<meta property="og:article:tag" content="gsuite">
    
<meta property="og:article:tag" content="golang">
    
<meta property="og:article:tag" content="hangouts-chat">
    
<meta property="og:article:tag" content="mail">
    
  

  
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@kagaorange" />
<meta name="twitter:creator" content="@kagaorange" />
<meta name="twitter:title" content="Hangouts Chat ã® Incoming Webhook ã‚’ Go ã§å©ã" />
<meta name="twitter:description" content="" />
<meta name="twitter:url" content="https://mikan.github.io/2018/03/15/writing-hangouts-chat-incoming-webhook-with-go/" />
<meta name="twitter:domain" content="https://mikan.github.io/">
  

  
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Article",
    "headline": "Hangouts Chat ã® Incoming Webhook ã‚’ Go ã§å©ã",
    "author": {
      "@type": "Person",
      "name": "http://profiles.google.com/+?rel=author"
    },
    "datePublished": "2018-03-15",
    "description": "",
    "wordCount": 3702
  }
</script>
  



<link rel="canonical" href="https://mikan.github.io/2018/03/15/writing-hangouts-chat-incoming-webhook-with-go/" />
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/touch-icon-144-precomposed.png">
<link rel="icon" href="/favicon.png">
<meta name="generator" content="Hugo 0.38.1" />

  <!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.2/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->



    <link rel="stylesheet" href="https://mikan.github.io/css/bootswatch/sandstone/bootstrap.min.css">


<link rel="stylesheet" href="https://mikan.github.io/css/font-awesome.min.css">
<link rel="stylesheet" href="https://mikan.github.io/css/style.css">


<link rel="stylesheet" href="https://mikan.github.io/css/mikan.css">



  <link rel="stylesheet" href="https://mikan.github.io/css/highlight/default.css">


</head>
<body class="map[name:sandstone]" data-ng-app="myapp" data-ng-controller="MyController" data-ng-mouseleave="MouseLeave($event)">
    <header id="main-header">
  <nav class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        
          
          <a class="navbar-brand-img" href="/">
            <img alt="Yutaka ğŸŠ Kato" src="/logo.png">
            
          </a>
        </div>
        <div id="navbar" class="collapse navbar-collapse">
          <ul class="nav navbar-nav navbar-right">
            
            
            <li class="">

              <a href="https://mikan.github.io/" >
                <i class='fa fa-home'></i>
                Home
              </a>
            </li>
            
            <li class="">

              <a href="https://mikan.github.io/post/" >
                <i class='fa fa-archive'></i>
                Archives
              </a>
            </li>
            
            <li class="">

              <a href="https://mikan.github.io/seminars/" >
                <i class='fa fa-users'></i>
                Seminars
              </a>
            </li>
            
            <li class="">

              <a href="https://mikan.github.io/bookshelf/" >
                <i class='fa fa-users'></i>
                Bookshelf
              </a>
            </li>
            
            <li class="">

              <a href="https://mikan.github.io/about/" >
                <i class='fa fa-info-circle'></i>
                About
              </a>
            </li>
            
            
              
          </ul>
        </div>
        
      </div>
    </nav>
  </header>


<div class="container">
  <div class="row">
    <div class="col-sm-9">
      <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  <div class="text-center">

    <h1>Hangouts Chat ã® Incoming Webhook ã‚’ Go ã§å©ã
</h1>

    <div class="metas">
<small>
  <i class="fa fa-calendar"></i>
  <time datetime="2018-03-15">15 Mar, 2018</time>
</small>


  <small>
  &middot; Read in about 8 min
  &middot; (3702 words)
  &middot; 
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=Hangouts%20Chat%20%e3%81%ae%20Incoming%20Webhook%20%e3%82%92%20Go%20%e3%81%a7%e5%8f%a9%e3%81%8f&amp;url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f&amp;title=Hangouts%20Chat%20%e3%81%ae%20Incoming%20Webhook%20%e3%82%92%20Go%20%e3%81%a7%e5%8f%a9%e3%81%8f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=Hangouts%20Chat%20%e3%81%ae%20Incoming%20Webhook%20%e3%82%92%20Go%20%e3%81%a7%e5%8f%a9%e3%81%8f&amp;body=Check out this site https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  </small>

<div class="margin-10">
  <i class="fa fa-tags"></i>
  
  <a href="https://mikan.github.io/tags/gsuite" class="label label-primary">gsuite</a>
  
  <a href="https://mikan.github.io/tags/golang" class="label label-primary">golang</a>
  
  <a href="https://mikan.github.io/tags/hangouts-chat" class="label label-primary">hangouts-chat</a>
  
  <a href="https://mikan.github.io/tags/mail" class="label label-primary">mail</a>
  


</div>

<br>
</div>

  </div>
</div>

      <div class="content">
  


<figure class="center">
    
        <img src="/img/logo/hangouts-chat.png" />
    
    
</figure>


<p>ä»Šæœˆé ­ã® 3æœˆ1æ—¥ã€Google ãŒ <a href="https://gsuite.google.com/products/chat/">Hangouts Chat</a> ã®æ­£å¼ç‰ˆã‚’ã‚¢ãƒŠã‚¦ãƒ³ã‚¹ã—ã¾ã—ãŸã€‚
IT ç³»ãƒ‹ãƒ¥ãƒ¼ã‚¹ãƒ¡ãƒ‡ã‚£ã‚¢ã¯æ—©é€Ÿã€ŒSlack ã®ãƒ©ã‚¤ãƒãƒ«ã€ãªã©ã¨ã‚»ãƒ³ã‚»ãƒ¼ã‚·ãƒ§ãƒŠãƒ«ã«å ±ã˜ã¦ã„ã¾ã™<sup>[å‚è€ƒæ–‡çŒ®1]</sup>ã€‚
ã§ã™ãŒã€Hangouts Chat ã¯ã‚ãã¾ã§ G Suite ã®ä¸€æ©Ÿèƒ½ãªã®ã§ã€ç‹¬ç«‹ã—ãŸãƒãƒ£ãƒƒãƒˆã‚µãƒ¼ãƒ“ã‚¹ã§ã‚ã‚‹ Slack ã¨ã¯ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã¯å¹¾åˆ†ã‹ç•°ãªã‚‹ã¯ãšã§ã™ã€‚ã—ã‹ã—æ©Ÿèƒ½å¼·åŒ–ã‚’ç¶šã‘ã¦ã„ã‘ã°ã„ãšã‚Œ Slack ã«è¿½ã„ã¤ãè¿½ã„è¶Šã™ã“ã¨ã‚‚å®¹æ˜“ã«æƒ³åƒã§ãã¾ã™ã€‚</p>

<p>ã¨ã€æœŸå¾…ã®è†¨ã‚‰ã‚€ Hangouts Chat ã§ã™ãŒã€ç§ã®æ‰‹å…ƒã§ã¯ 8 æ—¥ã«ãªã£ã¦ã‚ˆã†ã‚„ãã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚
æ—©é€Ÿä½¿ã£ã¦ã¿ã‚‹ã¨ãªã‚‹ã»ã©ã€ Bot ã‚„ Webhook ãªã© Slack ãƒ©ã‚¤ã‚¯ãªæ©Ÿèƒ½ãŒå‚™ã‚ã£ã¦ã„ã¾ã™ã€‚ã—ã‹ã— Slack ã¨æ¯”ã¹ã‚‹ã¨åœ§å€’çš„ãªæ©Ÿèƒ½ä¸è¶³ã‚’æ„Ÿã˜ã¾ã™ã€‚ä¾‹ãˆã°ã€</p>

<ol>
<li>çµ„ç¹”å¤–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¨ä¼šè©±ã§ããªã„ (ã“ã‚Œã¯è‡´å‘½çš„)</li>
<li>Workspace ã®æ¦‚å¿µãŒãªã„ (ã€Œãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã€ã‚’æŸã­ã‚‹ä¸Šä½æ¦‚å¿µãŒãªã„)</li>
<li>çµµæ–‡å­—ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ãŒãªã„ (ã‹ãªã—ã„)</li>
<li>ã‚«ã‚¹ã‚¿ãƒ çµµæ–‡å­—ãŒãªã„ (è¶…ã‹ãªã—ã„)</li>
</ol>

<p>ã¨ã„ã£ãŸã¨ã“ã‚ã§ã™ã€‚ã§ã‚‚ä¸€æ–¹ã€Hangouts Chat ãªã‚‰ã§ã¯ã®ãƒ¡ãƒªãƒƒãƒˆã‚‚ç¢ºã‹ã«ã‚ã‚Šã¾ã™ã€‚ä¾‹ãˆã°ã€</p>

<ol>
<li>Google ã‚¯ã‚ªãƒªãƒ†ã‚£ (ç„¡é§„ãŒãªãçµ±ä¸€æ„Ÿã®ã‚ã‚‹ UI ãƒ‡ã‚¶ã‚¤ãƒ³ã‚„ã‚¢ãƒ—ãƒªãƒ»ã‚µãƒ¼ãƒ“ã‚¹ã¨ã—ã¦ã®å®Œæˆåº¦ã®é«˜ã•)</li>
<li>DM ã¯æ—¢å­˜ã® Hangouts ã¨ãƒ­ã‚°ã‚’å…±æœ‰ã€å¾“æ¥ã® Hangouts ã¨ä¼šè©±å¯èƒ½ (ãŸã ã—å¾“æ¥ã®ã‚°ãƒ«ãƒ¼ãƒ—ãƒãƒ£ãƒƒãƒˆã¯çµ±åˆã•ã‚Œãªã„)</li>
<li>Google Drive ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ã‚¿ãƒƒãƒãŒå…¥åŠ›æ¬„ã‹ã‚‰ãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã«å¯èƒ½ã€å¤‰æ›´é€šçŸ¥ã‚‚ Bot çµŒç”±ã§å—ã‘å–ã‚Œã‚‹</li>
<li>ãã‚‚ãã‚‚ G Suite ã‚’å°å…¥æ¸ˆã®çµ„ç¹”ã«ã¨ã£ã¦ã¯ã‚³ã‚¹ãƒˆé¢ã‚‚ç®¡ç†é¢ã‚‚ä¸€ä½“åŒ–ã§ãã¦æœ€é«˜ã®é¸æŠè‚¢</li>
</ol>

<p>ãªã©ãŒæŒ™ã’ã‚‰ã‚Œã‚‹ã¨æ€ã„ã¾ã™ã€‚</p>

<p>ä»Šå›ã®è¨˜äº‹ã®ä¸»é¡Œã§ã‚ã‚‹ Webhook ã¯ã¨ã„ã†ã¨ã€æŠ•ã’æ–¹ã¾ã§ã¯ Slack ã¨ã»ã¨ã‚“ã©åŒã˜ã§ã™ã€‚
ãŸã ã— URL ã®ç™ºè¡Œã¾ã§ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒ Slack ã¨ç•°ãªã‚‹ (ã¨ã„ã†ã‹åŠ‡çš„ã«ç°¡å˜) ã“ã¨ã¨ã€ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆãŒé•ã†ã®ãŒ Slack ã¨ç•°ãªã‚‹ã¨ã“ã‚ã§ã™ã€‚</p>

<h3 id="webhook-url-å–å¾—">Webhook URL å–å¾—</h3>

<p>ãã‚‚ãã‚‚ã® Hangouts Chat ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ‰‹æ®µã§ã™ãŒã€Slack åŒæ§˜ Web ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ã¨ã€ã‚¢ãƒ—ãƒªã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹æ–¹æ³•ã®äºŒã¤ãŒã‚ã‚Šã¾ã™ã€‚
Web ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã¯ <a href="https://chat.google.com/">chat.google.com</a> ã¨ã„ã†ã‚·ãƒ³ãƒ—ãƒ«ãª URL ã‚’ãƒ–ãƒ©ã‚¦ã‚¶ã«å©ãã“ã‚€ã ã‘ã§ã™ã€‚
ã‚¢ãƒ—ãƒªã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹å ´åˆã¯ <a href="https://get.google.com/chat/">get.google.com/chat</a> ã¨åŒã˜ãã‚·ãƒ³ãƒ—ãƒ«ãª URL ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã«é€²ã‚ã¾ã™ã€‚
ä»Šã®æ‰€ã€Windows, macOS, Android, iOS ç‰ˆãŒã‚ã‚Šã¾ã™ã€‚
Web ã‚¢ãƒ—ãƒªã¯ä»Šæµè¡Œã‚Šã®ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³ã§ã™ã­ (ã‚‚ã—ã‹ã—ã¦ PWA?)ã€‚ãã—ã¦ã‚¢ãƒ—ãƒªç‰ˆã‚‚ã„ã‚ã‚†ã‚‹ &ldquo;ã‚¬ãƒ¯ãƒã‚¤ãƒ†ã‚£ãƒ–&rdquo; ã‚‰ã—ãã€ä¸­èº«ã¯ Web ç‰ˆã¨ãªã‚“ã‚‰ä»£ã‚ã‚Šã‚ã‚Šã¾ã›ã‚“ã€‚</p>

<p>Hangouts Chat ã‚’é–‹ã„ãŸã‚‰ã€ã¾ãšã€Œãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã€ã‚’ä½œæˆã—ã¾ã™ã€‚Slack ã§ã„ã† Channel ã§ã™ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat1.png" />
    
    
    <figcaption>
        <h4>ãƒãƒ£ãƒƒãƒˆãƒ«ãƒ¼ãƒ ã®ä½œæˆ</h4>
        
    </figcaption>
    
</figure>


<p>ä½œæˆã§ãã¾ã—ãŸã‹ï¼Ÿè©¦ã—ã« @Giphy ã§éŠã‚“ã§ã¿ã¾ã—ã‚‡ã† (è„±ç·š)ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat2.png" />
    
    
    <figcaption>
        <h4>@Giphy ã§éŠã¶</h4>
        
    </figcaption>
    
</figure>


<p>ãªã‚“ã ã“ã‚Œã€‚</p>

<p>ãŠæ¬¡ã« [ãƒ«ãƒ¼ãƒ å ğŸ‘¤ n] ã¨ãªã£ã¦ã„ã‚‹ã¨ã“ã‚ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã€ [Webhook ã‚’è¨­å®š] ã‚’é¸ã³ã¾ã™ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat3.png" />
    
    
    <figcaption>
        <h4>Webhook ã‚’è¨­å®š</h4>
        
    </figcaption>
    
</figure>


<p>ç€ä¿¡ Webhook ã¨ã„ã†ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒå‡ºã‚‹ã®ã§ã€ [WEBHOOK ã‚’è¿½åŠ ] ã‚’é¸ã¶ã¨ã€åå‰ã¨ã‚¢ã‚¤ã‚³ãƒ³ã‚’é¸ã¶ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã®ã§ã€é©å½“ãªå€¤ã‚’è¨˜å…¥ã—ã¾ã™ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat4.png" />
    
    
    <figcaption>
        <h4>ç€ä¿¡ Webhook</h4>
        
    </figcaption>
    
</figure>


<p>ğŸ’¡ ã‚ªãƒã‚±: GitHub ã®æ©Ÿèƒ½ã§ <code>github.com/&lt;USER or ORG&gt;.png</code> ã¨ã„ã† URL ã§å¯¾è±¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚„ Organization ã®ã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã‚’å–å¾—ã§ãã¾ã™ã€‚
æ‰‹ã£å–ã‚Šæ—©ãã‚¢ã‚¤ã‚³ãƒ³ç”»åƒã‚’å¾—ãŸã„ã¨ãã«ã¨ã¦ã‚‚ä¾¿åˆ©ã§ã™ã€‚
ã•ã‚‰ã«ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ãƒ¼ <code>size</code> ã§ã‚µã‚¤ã‚ºã‚’ px å˜ä½ã§æŒ‡å®šã™ã‚‹ã“ã¨ã‚‚ã§ãã‚‹è¶…çµ¶ä¾¿åˆ©ãªãŠã¾ã‘ã¤ãã§ã™ã€‚
ä¸Šè¨˜ã®ä¾‹ã§ã¯ <code>https://github.com/golang.png?size=128</code> ã¨å…¥åŠ›ã—ã¦ã„ã¾ã™ã€‚
ãªãŠã€ã“ã®æ©Ÿèƒ½ã¯ 302 ãƒªãƒ€ã‚¤ãƒ¬ã‚¯ãƒˆã•ã‚Œã‚‹ãŸã‚ <code>curl</code> ã§ã¯ <code>-L</code> ã‚’è¿½åŠ ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</p>

<p>Webhook URL ãŒç™ºè¡Œã•ã‚ŒãŸã‚‰ã‚³ãƒ”ãƒ¼ã—ã¦ãŠãã¾ã™ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat5.png" />
    
    
    <figcaption>
        <h4>ç€ä¿¡ Webhook</h4>
        
    </figcaption>
    
</figure>


<h3 id="go-ã«ã‚ˆã‚‹å®Ÿè£…">Go ã«ã‚ˆã‚‹å®Ÿè£…</h3>

<p>Webhook ã®å®Ÿæ…‹ã¯ä¾‹ã«ã‚ˆã£ã¦ JSON ã‚’ HTTP POST ã™ã‚‹ã ã‘ã®ç°¡å˜ãªã‚‚ã®ã§ã™ã€‚å¾“ã£ã¦ Go è¨€èªãªã‚‰ã°æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã¿ã§ç°¡æ½”ã«æ›¸ãã“ã¨ãŒã§ãã¾ã™ã€‚
ç”¨ã„ã‚‹æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã¯ <code>encoding/json</code>, <code>net/http</code>, ãã—ã¦ãƒã‚¤ãƒˆã‚¹ãƒ©ã‚¤ã‚¹ã® <code>Reader</code> ã®ãŸã‚ã«ã¡ã‚‡ã“ã£ã¨ <code>bytes</code> ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ã†ã ã‘ã§ã™ã€‚ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã¯ã‚¨ãƒ©ãƒ¼å‡¦ç†ã¨ã‚¨ãƒ©ãƒ¼æ™‚ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹èª­ã¿è¾¼ã¿ã¾ã§æ›¸ã„ã¦ã„ã‚‹ã®ã§ <code>log</code> ã¨ <code>io/ioutil</code> ã‚‚ä½¿ã£ã¦ã„ã¾ã™ã€‚</p>

<pre><code class="language-go">package main

import (
	&quot;bytes&quot;
	&quot;encoding/json&quot;
	&quot;io/ioutil&quot;
	&quot;log&quot;
	&quot;net/http&quot;
)

const webhook = &quot;https://chat.googleapis.com/v1/spaces/...&quot;

func main() {
	payload, err := json.Marshal(struct {
		Text string `json:&quot;text&quot;`
	}{
		Text: &quot;ã¦ã™ã¨ï¼&quot;,
	})
	if err != nil {
		log.Fatal(err)
	}
	resp, err := http.Post(webhook, &quot;application/json; charset=UTF-8&quot;, bytes.NewReader(payload))
	if err != nil {
		log.Fatal(err)
	}
	if resp.StatusCode != 200 {
		body, err := ioutil.ReadAll(resp.Body)
		if err != nil {
			log.Fatal(err)
		}
		log.Fatalf(&quot;HTTP %d: %s&quot;, resp.StatusCode, body)
	}
}
</code></pre>

<p>å®Ÿè¡Œã™ã‚‹ã¨ã€Hangouts Chat ã«ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat6.png" />
    
    
    <figcaption>
        <h4>Webhook çµæœ</h4>
        
    </figcaption>
    
</figure>


<p>ã“ã“ã¾ã§ã¯ webhook ã® URL ä»¥å¤–ã¯ Slack ã¨ä½•ã‚‚å¤‰ã‚ã‚Šã¾ã›ã‚“ã€‚</p>

<h3 id="ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã¨ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³">ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã¨ãƒ‡ã‚³ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³</h3>

<p>ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚„ãƒ†ã‚­ã‚¹ãƒˆã®é£¾ã‚Šä»˜ã‘ã¯ Slack ã¨ç•°ãªã£ã¦ãŠã‚Šã€ä»¥ä¸‹ã®ã‚ˆã†ãªæ›¸å¼ã§æŒ‡å®šã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™<sup>[å‚è€ƒæ–‡çŒ®2]</sup>ã€‚
Markdown ã¨ã¯ä¸€éƒ¨ç•°ãªã‚‹ã®ã§æ³¨æ„ã—ã¦ãã ã•ã„ã€‚</p>

<table>
<thead>
<tr>
<th>æ›¸å¼</th>
<th>è¨˜å·</th>
<th>ä¾‹</th>
<th>çµæœ</th>
</tr>
</thead>

<tbody>
<tr>
<td>å¤ªå­—</td>
<td>*</td>
<td>&#042;hello&#042;</td>
<td><strong>hello</strong></td>
</tr>

<tr>
<td>æ–œä½“</td>
<td>_ (ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢)</td>
<td>&#095;hello&#095;</td>
<td><em>hello</em></td>
</tr>

<tr>
<td>å–ã‚Šæ¶ˆã—ç·š</td>
<td>~</td>
<td>&#126;hello&#126;</td>
<td><del>hello</del></td>
</tr>

<tr>
<td>ç­‰å¹…æ–‡å­—åˆ—</td>
<td>&#096; (ãƒãƒƒã‚¯ã‚¯ã‚ªãƒ¼ãƒˆ)</td>
<td>&#096;hello&#096;</td>
<td><code>hello</code></td>
</tr>

<tr>
<td>ç­‰å¹…æ–‡å­—åˆ—ãƒ–ãƒ­ãƒƒã‚¯</td>
<td>&#096;&#096;&#096; (ãƒãƒƒã‚¯ã‚¯ã‚ªãƒ¼ãƒˆ3ã¤)</td>
<td>&#096;&#096;&#096;<br/>Hello<br/>World<br/>&#096;&#096;&#096;</td>
<td><pre>Hello<br/>World</pre></td>
</tr>

<tr>
<td>ãƒªãƒ³ã‚¯</td>
<td>&lt; &#124; &gt;</td>
<td>&lt;<code>https://mikan.github.io/</code>&#124;<code>my link text</code>&gt;</td>
<td><a href="https://mikan.github.io">my link text</a></td>
</tr>

<tr>
<td>å…¨ä½“ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³</td>
<td>&lt; / &gt;</td>
<td>&lt;users/all&gt;</td>
<td>@all (ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³)</td>
</tr>

<tr>
<td>ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³</td>
<td>&lt; / &gt;</td>
<td>&lt;users/123456789012345678901&gt;</td>
<td>@ãƒ¦ãƒ¼ã‚¶ãƒ¼ (ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³)</td>
</tr>
</tbody>
</table>

<p>å…¨ä½“ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã‚’äººé–“ãŒã‚„ã‚‹ã¨ãã¯ã€Œ@å…¨å“¡ã€ãªã®ã§ã™ãŒã€API ã‹ã‚‰ã ã¨ã€Œ@allã€ã¨è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚ã¾ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼å®›ãƒ¡ãƒ³ã‚·ãƒ§ãƒ³ã§ç”¨ã„ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ ID ã¯ç€ä¿¡ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã® <code>sender</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‹ã‚‰å–ã‚Œã¨ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ã‚Šã¾ã™ã€‚ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãª Bot ã‚’ä½œã‚‹ã¨ãã«ä½¿ã†ã‚ˆã†ã§ã™ã€‚</p>

<h3 id="ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡">ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é€ä¿¡</h3>

<p>Hangouts Chat ã® Webhook ã«ã¯ Card Message ã¨ã„ã†ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚‚è¦å®šã•ã‚Œã¦ã„ã¾ã™<sup>[å‚è€ƒæ–‡çŒ®3]</sup>ã€‚ã“ã¡ã‚‰ã‚‚æŠ•ã’ã¦ã¿ã¾ã™ã€‚
å…ˆã«å‹•ã‹ã—ãŸçµæœã‹ã‚‰è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚æ¬¡ã®ç”»åƒã¯ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ã‚‹ãƒ”ã‚¶é…é”ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ãã®ã¾ã¾å†ç¾ã—ãŸã‚‚ã®ã§ã™ (åœ°å›³ã®åº§æ¨™ã¯çœç•¥ã•ã‚Œã¦ã„ãŸã®ã§ä»£ã‚ã‚Šã«å¤šæ‘©å·ã‚’æ˜ ã—ã¦ã¿ã‚‹)ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat7.png" />
    
    
    <figcaption>
        <h4>Card Message</h4>
        
    </figcaption>
    
</figure>


<p>ç”»åƒãŒã‚ã‚Šã€ã‚¿ã‚¤ãƒˆãƒ«ã¨ã‚µãƒ–ã‚¿ã‚¤ãƒˆãƒ«ãŒã‚ã‚Šã€æ³¨æ–‡ç•ªå·ã¨çŠ¶æ…‹ã‚’ç¤ºã™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã€åœ°å›³ã‚’ç¤ºã™ã‚»ã‚¯ã‚·ãƒ§ãƒ³ãŒã‚ã‚Šã€ãã—ã¦æ³¨æ–‡ã‚’é–‹ããƒœã‚¿ãƒ³ï¼ŸãŒã‚ã‚Šã¾ã™ã€‚
ã“ã‚Œã‚‰ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯å…¨ã¦ JSON ã§å®šç¾©ã•ã‚ŒãŸã‚‚ã®ã§ã™ã€‚
ã‚¢ã‚¤ã‚³ãƒ³ã«é–¢ã—ã¦ã¯ã€ä¸Šè¨˜ä¾‹ã¯ç”»åƒã‚’ç›´æ¥åˆºã—ã¦ã„ã¾ã™ãŒã€ãƒ“ãƒ«ãƒˆã‚¤ãƒ³ã®ã‚¢ã‚¤ã‚³ãƒ³ã‚‚ã„ãã¤ã‹å®šç¾©ã•ã‚Œã¦ã„ã¾ã™ã€‚</p>

<p>ã•ã¦ã€ã“ã‚Œã‚’ Go è¨€èªã§æ‰±ã†ã®ã¯ç°¡å˜ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
ã§ã™ãŒä¸€åº¦ JSON ã®ä»•æ§˜ã‚’æ§‹é€ ä½“ã«å®šç¾©ã—ã¦ã—ã¾ãˆã°ã€ã‚ã¨ã¯ Go ãŒèª‡ã‚‹æ§‹é€ ä½“ãƒªãƒ†ãƒ©ãƒ«ã‚’ä½¿ã£ã¦ãƒ‡ãƒ¼ã‚¿ã‚’çµ„ã¿ç«‹ã¦ã¦ã„ãã ã‘ã§ã™ã€‚</p>

<pre><code class="language-go">package main

import (
	&quot;bytes&quot;
	&quot;encoding/json&quot;
	&quot;fmt&quot;
	&quot;io/ioutil&quot;
	&quot;log&quot;
	&quot;net/http&quot;
)

const webhook = &quot;https://chat.googleapis.com/v1/spaces/...&quot;

type Cards struct {
	Cards []Card `json:&quot;cards,omitempty&quot;`
}

type Card struct {
	Header   *Header   `json:&quot;header,omitempty&quot;`
	Sections []Section `json:&quot;sections,omitempty&quot;`
}

type Header struct {
	Title      string `json:&quot;title,omitempty&quot;`
	Subtitle   string `json:&quot;subtitle,omitempty&quot;`
	ImageURL   string `json:&quot;imageUrl,omitempty&quot;`
	ImageStyle string `json:&quot;imageStyle,omitempty&quot;`
}

type Section struct {
	Header  string   `json:&quot;header,omitempty&quot;`
	Widgets []Widget `json:&quot;widgets,omitempty&quot;`
}

type Widget struct {
	KeyValue      *KeyValue `json:&quot;keyValue,omitempty&quot;`
	Image         *Image    `json:&quot;image,omitempty&quot;`
	Buttons       []Button  `json:&quot;buttons,omitempty&quot;`
	TextParagraph string    `json:&quot;textParagraph,omitempty&quot;`
}

type KeyValue struct {
	TopLabel         string   `json:&quot;topLabel,omitempty&quot;`
	Content          string   `json:&quot;content,omitempty&quot;`
	Icon             string   `json:&quot;icon,omitempty&quot;`
	ContentMultiLine string   `json:&quot;contentMultiline,omitempty&quot;`
	BottomLabel      string   `json:&quot;bottomLabel,omitempty&quot;`
	OnClick          *OnClick `json:&quot;onClick,omitempty&quot;`
	Button           *Button  `json:&quot;button,omitempty&quot;`
}

type Image struct {
	ImageURL string   `json:&quot;imageUrl,omitempty&quot;`
	OnClick  *OnClick `json:&quot;onClick,omitempty&quot;`
}

type Button struct {
	TextButton  *TextButton  `json:&quot;textButton,omitempty&quot;`
	ImageButton *ImageButton `json:&quot;imageButton,omitempty&quot;`
}

type TextButton struct {
	Text    string   `json:&quot;text,omitempty&quot;`
	OnClick *OnClick `json:&quot;onClick,omitempty&quot;`
}

type ImageButton struct {
	IconURL string   `json:&quot;iconUrl,omitempty&quot;`
	Icon    string   `json:&quot;icon,omitempty&quot;`
	OnClick *OnClick `json:&quot;onClick,omitempty&quot;`
}

type OnClick struct {
	OpenLink *OpenLink `json:&quot;openLink,omitempty&quot;`
}

type OpenLink struct {
	URL string `json:&quot;url,omitempty&quot;`
}

func main() {
	msg := Cards{[]Card{{
		&amp;Header{
			Title:    &quot;Pizza Bot Customer Support&quot;,
			Subtitle: &quot;pizzabot@example.com&quot;,
			ImageURL: &quot;https://goo.gl/aeDtrS&quot;,
		},
		[]Section{
			{
				Widgets: []Widget{
					{
						KeyValue: &amp;KeyValue{
							TopLabel: &quot;Order No.&quot;,
							Content:  &quot;12345&quot;,
						},
					},
					{
						KeyValue: &amp;KeyValue{
							TopLabel: &quot;Status&quot;,
							Content:  &quot;In Delivery&quot;,
						},
					},
				},
			},
			{
				Header: &quot;Location&quot;,
				Widgets: []Widget{{
					Image: &amp;Image{
						ImageURL: &quot;http://maps.google.com/maps/api/staticmap?center=35.5872872,139.667575&amp;zoom=17&amp;size=400x300&quot;,
					},
				}},
			},
			{
				Widgets: []Widget{{
					Buttons: []Button{{
						TextButton: &amp;TextButton{
							Text:    &quot;OPEN ORDER&quot;,
							OnClick: &amp;OnClick{&amp;OpenLink{&quot;https://mikan.github.io/&quot;}},
						},
					}},
				}},
			},
		},
	}}}

	payload, err := json.Marshal(msg)
	if err != nil {
		log.Fatal(err)
	}
	fmt.Println(string(payload))
	resp, err := http.Post(webhook, &quot;application/json; charset=UTF-8&quot;, bytes.NewReader(payload))
	if err != nil {
		log.Fatal(err)
	}
	if resp.StatusCode != 200 {
		body, err := ioutil.ReadAll(resp.Body)
		if err != nil {
			log.Fatal(err)
		}
		log.Fatalf(&quot;HTTP %d: %s&quot;, resp.StatusCode, body)
	}
}
</code></pre>

<p>æ§‹é€ ä½“å®šç¾©ãŒãšã‚‰ãšã‚‰ã‚ã‚‹ä»¥å¤–ã¯ã€ãã‚“ãªã«è¤‡é›‘ã§ã¯ãªã„ã“ã¨ã«æ°—ã¥ãã§ã—ã‚‡ã†ã€‚
ãªãŠã€ä½¿ã‚ãªã„ (ã‚¼ãƒ­å€¤ã®) ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’ JSON å‡ºåŠ›ã—ãªã„ã‚ˆã†ã« <code>omitempty</code> ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚¿ã‚°ã‚’æ·»ãˆã¦ã„ã¾ã™ã€‚
åŸ‹ã‚è¾¼ã‚€æ§‹é€ ä½“ã‚’ãƒã‚¤ãƒ³ã‚¿ã«ã—ã¦ã„ã‚‹ã®ã‚‚ã“ã®ãŸã‚ã§ã™ã€‚</p>

<p>ã¾ãŸã€ä¸Šè¨˜ä¾‹ã«ã¯å«ã¾ã‚Œã¦ãŠã‚Šã¾ã›ã‚“ãŒã€ Card Message ã§ã¯ã€å¤šãã®æ–‡å­—åˆ—ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã¯ä¸€éƒ¨ã® HTML ã‚¿ã‚°ãŒåˆ©ç”¨ã§ãã¾ã™ã€‚ä½¿ãˆã‚‹ã‚¿ã‚°ã¯ã€</p>

<ul>
<li>&lt;b&gt; (å¤ªå­—)</li>
<li>&lt;i&gt; (æ–œä½“)</li>
<li>&lt;u&gt; (ä¸‹ç·š)</li>
<li>&lt;strike&gt; (å–æ¶ˆç·š)</li>
<li>&lt;font color=&ldquo;&rdquo;&gt; (æ–‡å­—è‰²) â€»&lt;font color=\&ldquo;#ff0000\&rdquo;&gt;red&lt;/font&gt; ã®ã‚ˆã†ã«åˆ©ç”¨</li>
<li>&lt;a href=&ldquo;&rdquo;&gt; (ãƒã‚¤ãƒ‘ãƒ¼ãƒªãƒ³ã‚¯)</li>
<li>&lt;br&gt; (æ”¹è¡Œ)</li>
</ul>

<p>ãŒè¦å®šã•ã‚Œã¦ã„ã¾ã™ã€‚</p>

<h3 id="æ´»ç”¨ä¾‹">æ´»ç”¨ä¾‹</h3>

<p>ä»Šå›ã€ã“ã® Webhook ã®ä»•çµ„ã¿ã‚’ç”¨ã„ã¦ç¤¾å†…ã§ä½¿ã£ã¦ã„ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã®é€šçŸ¥ã‚’ Hangouts Chat ã«é€£æºã™ã‚‹æ©Ÿèƒ½ã‚’å°å…¥ã—ã¦ã¿ã¾ã—ãŸã€‚
ã“ã‚“ãªã‚·ã‚¹ãƒ†ãƒ ã§ã™ (èµ¤å­—ãŒä»Šå›ã®æ”¹ä¿®éƒ¨åˆ†):</p>


<figure class="center">
    
        <img src="/img/diagram/gh-id-checker.png" />
    
    
</figure>


<p>ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ GitHub ã®ä¼šç¤¾ã® Organization ã«ã€Œç§ã® ID ã‚’è¿½åŠ ã—ã¦ï¼ã€ã£ã¦ãŠé¡˜ã„ã™ã‚‹ãŸã‚ã®ç”³è«‹ã‚·ã‚¹ãƒ†ãƒ ã§ã€
Organization ã®ç¤¾å†…é‹ç”¨ãƒ«ãƒ¼ãƒ«ã«é©åˆã™ã‚‹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‹ã©ã†ã‹ (2FA æœ‰åŠ¹ã‹ã€ä¼šç¤¾ãƒ¡ãƒ«ã‚¢ãƒ‰åˆºã•ã£ã¦ã‚‹ã‹ç­‰) ã‚’äºˆã‚è‡ªå‹•ãƒã‚§ãƒƒã‚¯ã™ã‚‹ã®ãŒç›®çš„ã§ã™ã€‚</p>


<figure class="center">
    
        <img src="/img/ss/gh-id-checker.png" />
    
    
</figure>


<p>ã‚‚ã¡ã‚ã‚“ Go ã§å®Ÿè£…ã—ã¦ãŠã‚Šã€é€šçŸ¥ã®æœ¬æ–‡ã¯ã“ã‚“ãªæ„Ÿã˜ã§ã™:</p>

<pre><code class="language-go">msg := client.Message{
	Text: fmt.Sprintf(&quot;&lt;users/all&gt; GitHub ãƒ¦ãƒ¼ã‚¶ãƒ¼ &lt;https://github.com/%s|%s&gt; ã‹ã‚‰ç™»éŒ²ä¾é ¼ãŒæ¥ã¾ã—ãŸã€‚\n&lt;https://github.com/orgs/%s/people|ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†ã¯ã“ã¡ã‚‰&gt;&quot;, userData.Login, userData.Login, org),
}
</code></pre>

<p>é€šçŸ¥ã¯ã“ã®ã‚ˆã†ã«ãªã‚Šã¾ã™:</p>


<figure class="center">
    
        <img src="/img/ss/hangouts-chat8.png" />
    
    
</figure>


<p>ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã§ã¯åŒæ™‚ã«ãƒ¡ãƒ¼ãƒ«ã‚‚é€ä¿¡ã—ã¦ãŠã‚Šã€ä¸»ã«ãƒ¡ãƒ¼ãƒ«ã‚’è¦‹ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«ã‚‚é€šçŸ¥ã‚’ç¢ºå®Ÿã«å±Šã‘ã¾ã™ã€‚</p>

<pre><code class="language-go">package main

import (
	&quot;bytes&quot;
	&quot;log&quot;
	&quot;net/smtp&quot;
	&quot;os&quot;
)

func sendMail(id, org string) {
	from := os.Getenv(&quot;SEND_FROM&quot;)
	to := os.Getenv(&quot;SEND_TO&quot;)
	user := os.Getenv(&quot;SMTP_USER&quot;)
	password := os.Getenv(&quot;SMTP_PASSWORD&quot;)
	server := os.Getenv(&quot;SMTP_SERVER&quot;)
	port := os.Getenv(&quot;SMTP_PORT&quot;)
	body := bytes.NewBufferString(&quot;Subject: [GitHub/&quot; + org + &quot;] ID æ‹›å¾…ä¾é ¼\r\n&quot;)
	body.WriteString(&quot;Content-Type: text/plain; charset=\&quot;UTF-8\&quot;\r\n&quot;)
	body.WriteString(&quot;\r\n&quot;)
	body.WriteString(&quot;æ¬¡ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰ GitHub &quot; + org + &quot; çµ„ç¹”ã¸ã®æ‹›å¾…ä¾é ¼ãŒå±Šãã¾ã—ãŸ: https://github.com/&quot; + id + &quot;\r\n&quot;)
	body.WriteString(&quot;\r\n&quot;)
	body.WriteString(&quot;ãƒ¡ãƒ³ãƒãƒ¼ç®¡ç†ã¯ã“ã¡ã‚‰: https://github.com/orgs/&quot; + org + &quot;/people\r\n&quot;)
	auth := smtp.PlainAuth(&quot;&quot;, user, password, server)
	if err := smtp.SendMail(server+&quot;:&quot;+port, auth, from, []string{to}, body.Bytes()); err != nil {
		log.Printf(&quot;Failed to send mail, %v&quot;, err)
	}
}
</code></pre>

<p>æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒª <code>net/smtp</code> ã§ã•ãã£ã¨ãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚Œã‚‹ã‚ãŸã‚Šã‚‚ Go ã®é­…åŠ›ã§ã™ã€‚
ãŸã ã—ã€æ—¥æœ¬èªãƒ¡ãƒ¼ãƒ«ã‚’é€ã‚‹å ´åˆã¯ä¸Šè¨˜ä¾‹ã®ã‚ˆã†ã« <code>Content-Type: text/plain; charset=\&quot;UTF-8\&quot;</code> ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’åˆºã™ã‚’ãŠå¿˜ã‚Œãªãã€‚</p>

<p>ãƒ»ãƒ»ãƒ»ã¾ãŸè„±ç·šã—ã¦ã—ã¾ã„ã¾ã—ãŸãŒã€ã„ã‹ãŒã§ã—ãŸã§ã—ã‚‡ã†ã‹ã€‚ç°¡å˜ã«é€£æºã§ãã¦ã€ãã®æ°—ã«ãªã‚Œã°å‡ã£ãŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚‚é€ã‚Œã‚‹ã“ã¨ãŒãŠåˆ†ã‚Šã„ãŸã ã‘ãŸã‹ã¨æ€ã„ã¾ã™ã€‚
Webhook ã§ Hangouts Chat ã®è¡¨ç¾åŠ›ãŒåˆ†ã‹ã£ã¦ããŸã‚‰ã€æ¬¡ã¯ Bot ã®è‡ªä½œã«ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã„ã¨ã“ã‚ã§ã™ã­ã€‚</p>

<p>Stay tuned &amp; Happy hacking!</p>

<h4 id="å‚è€ƒæ–‡çŒ®">å‚è€ƒæ–‡çŒ®</h4>

<ol>
<li><a href="https://jp.techcrunch.com/2018/03/01/2018-02-28-hangout-chat-googles-slack-competitor-comes-out-of-beta/">Googleã€Hangouts Chatã€G Suiteå‘ã‘æ­£å¼ç‰ˆå…¬é–‹â€•â€•Slackã®ãƒ©ã‚¤ãƒãƒ«ã‚’ç‹™ã†  |  TechCrunch Japan</a></li>
<li><a href="https://developers.google.com/hangouts/chat/reference/message-formats/basic">Simple Text Messages &nbsp;|&nbsp; Hangouts Chat &nbsp;|&nbsp; Google Developers</a></li>
<li><a href="https://developers.google.com/hangouts/chat/reference/message-formats/cards">Card Formatting Messages &nbsp;|&nbsp; Hangouts Chat &nbsp;|&nbsp; Google Developers</a></li>
<li><a href="http://amzn.to/2HAwTNW">ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èªGo</a> ç¬¬4ç«  - Alan A.A. Donovan (è‘—),â€ Brian W. Kernighan (è‘—),â€ æŸ´ç”° èŠ³æ¨¹ (ç¿»è¨³)</li>
</ol>

</div>


      <footer>
  
<span class="share-box">Share this on:
    <a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-facebook-official "></i></a>

    <a href="https://twitter.com/intent/tweet?text=Hangouts%20Chat%20%e3%81%ae%20Incoming%20Webhook%20%e3%82%92%20Go%20%e3%81%a7%e5%8f%a9%e3%81%8f&amp;url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-twitter"></i></a>

    <a href="https://plus.google.com/share?url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-google-plus"></i></a>

    <a href="http://www.reddit.com/submit?url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=900,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-reddit"></i></a>

    <a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f&amp;title=Hangouts%20Chat%20%e3%81%ae%20Incoming%20Webhook%20%e3%82%92%20Go%20%e3%81%a7%e5%8f%a9%e3%81%8f" onclick="window.open(this.href, 'mywin',
'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;"><i class="fa fa-linkedin"></i></a>

    <a href="mailto:?subject=Hangouts%20Chat%20%e3%81%ae%20Incoming%20Webhook%20%e3%82%92%20Go%20%e3%81%a7%e5%8f%a9%e3%81%8f&amp;body=Check out this site https%3a%2f%2fmikan.github.io%2f2018%2f03%2f15%2fwriting-hangouts-chat-incoming-webhook-with-go%2f" data-proofer-ignore=""><i class="fa fa-envelope"></i></a>
  </span>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
      
  
    <nav><ul class="pager">
    
        <li class="previous">
          <a href="https://mikan.github.io/2018/02/23/convert-plantuml-embedded-asciidoc-to-html-with-gradle/" title="PlantUML åŸ‹ã‚è¾¼ã¿ AsciiDoc ã® Gradle ã‚’ç”¨ã„ãŸ HTML ä¸€æ‹¬å¤‰æ›">
            <span aria-hidden="true">&larr;</span>Previous
          </a>
        </li>
    

    
    </ul> </nav>
  


</div>

  <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
  
<div id="disqus_thread"></div>
<script type="text/javascript">
  (function() {
    
    
    if (window.location.hostname == "localhost")
      return;

    var dsq = document.createElement('script'); dsq.async = true; dsq.type = 'text/javascript';
    dsq.src = '//kagaorange.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>


</div>

</footer>

    </div>
    
      <div class="col-xs-12 col-sm-12 col-md-3 col-lg-3">
        <div>
  

    <div class="section">
      <header><div class="title"><b>Latest Posts</b></div></header>
      <div class="content">
        <ul>
        
          <li>
          <a href="https://mikan.github.io/2018/03/15/writing-hangouts-chat-incoming-webhook-with-go/">Hangouts Chat ã® Incoming Webhook ã‚’ Go ã§å©ã</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2018/02/23/convert-plantuml-embedded-asciidoc-to-html-with-gradle/">PlantUML åŸ‹ã‚è¾¼ã¿ AsciiDoc ã® Gradle ã‚’ç”¨ã„ãŸ HTML ä¸€æ‹¬å¤‰æ›</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2018/01/23/data-visualization-on-static-sites-with-aws-lambda-go-and-chart-js/">AWS Lambda Go ã¨ Chart.js ã§å®Ÿç¾ã™ã‚‹é™çš„ã‚µã‚¤ãƒˆã®ãƒ‡ãƒ¼ã‚¿ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ©ã‚¤ã‚¼ãƒ¼ã‚·ãƒ§ãƒ³</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/12/19/mashup-awards-2017/">Mashup Awards 2017</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/12/13/setup-amazon-freertos-on-stm32l4-discovery-kit-iot-node/">STM32L4 Discovery Kit IoT Node ã« Amazon FreeRTOS ã‚’å°å…¥ã™ã‚‹</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/12/07/enabling-saml-based-sso-to-salesforce-with-g-suite-as-idp/">G Suite ã‚’ IdP ã«ã—ãŸ Salesforce ã® SAML SSO ã®æœ‰åŠ¹åŒ–</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/11/28/analyze-salesforce-codes-with-pmd-apex-and-pmd-visualforce/">PMD Apex / PMD Visualforce ã§ Salesforce ã®ã‚³ãƒ¼ãƒ‰ã‚’é™çš„è§£æã™ã‚‹</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/11/24/introducing-force-client-go/">force-client-go: Go ã§ Salesforce ã® REST API ã‚’å©ã</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/11/20/working-go-dep-and-govendor-on-gitlab-ci/">Go ã® dep ã‚„ã‚‰ govendor ã‚„ã‚‰ã‚’ GitLab CI ã§å›ã™</a>
          </li>
        
          <li>
          <a href="https://mikan.github.io/2017/11/19/jjug-ccc-2017-fall/">JJUG CCC 2017 Fall</a>
          </li>
        
        </ul>
      </div>
    </div>

    
      
      
      <div class="section taxonomies">
        <header><div class="title"><b>category</b></div></header>

        <div class="content">
          <ul>
            <li><a href="/categories/web">web</a></li><li><a href="/categories/iot">iot</a></li><li><a href="/categories/life">life</a></li><li><a href="/categories/salesforce">salesforce</a></li><li><a href="/categories/tools">tools</a></li>
          </ul>
        </div>
      </div>
      
    
      
      
      <div class="section taxonomies">
        <header><div class="title"><b>tag</b></div></header>

        <div class="content">
          <ul>
            <li><a href="/tags/github">github</a></li><li><a href="/tags/golang">golang</a></li><li><a href="/tags/c&#43;&#43;">c&#43;&#43;</a></li><li><a href="/tags/hugo">hugo</a></li><li><a href="/tags/aws">aws</a></li><li><a href="/tags/book">book</a></li><li><a href="/tags/force.com">force.com</a></li><li><a href="/tags/gitlab">gitlab</a></li><li><a href="/tags/gsuite">gsuite</a></li><li><a href="/tags/java">java</a></li>
          </ul>
        </div>
      </div>
      
    

</div>

      </div>
    
  </div>
</div>
    
<footer class="footer hidden-print">
  <div class="container">
    <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
           <div class="pull-left">
  <a class="toplink" href="javascript:" id="return-to-top">back to top</a>
</div>
<div class="pull-right">

</div>

        </div>
        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 text-center">
              
    
<div class="container footline">
    <small>
  Copyright&copy; <a href='/about/'>Yutaka Kato</a>

</small>
</div>


    


        </div>
    </div>
  </div>
</footer>

    

<script src="//s3.amazonaws.com/mailmunch/static/site.js" id="mailmunch-script" data-mailmunch-site-id="" async="async"></script>



<script src="//load.sumome.com/" data-sumo-site-id="7376c112ca70badebd8ee83050033a40afd51c35656127efca6d0e2f5b1f09c2" async="async"></script>

<script src="https://mikan.github.io/js/jquery.min.js"></script>
<script src="https://mikan.github.io/js/bootstrap.min.js"></script>


<script src="https://mikan.github.io/js/highlight.pack.js"></script>
<script src="https://mikan.github.io/js/site.js"></script>
<script>hljs.initHighlightingOnLoad();</script>


<script>
  var _gaq=[['_setAccount','UA-68709286-1'],['_trackPageview']];
  (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
  g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
  s.parentNode.insertBefore(g,s)}(document,'script'));
</script>

<script>
var ENABLE_POPOVER = "", 
EXPIRE_COOKIE = "", 
SHOW_MODAL_TIMEOUT = "", 
MOUSE_LEAVE = "", 
MODAL_SIZE = "", 
POST_URL = "", 
SIGNUP_HEADER = "",
HEADER_IMAGE = "",
IMG_DESCRIPTION = "",
SIGNUP_TEXT = "",
INPUT_PLACEHOLDER = "",
SUBMIT_BUTTON = "",
SUCCESS_MESSAGE = "",
ERROR_MESSAGE = "",
OPTIN = "",
COOKIE_NAME = "",
CONTENTLANGUAGE = ""; 
</script>





<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//MathJax.js"></script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax//config/TeX-AMS-MML_HTMLorMML.js"></script>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$'], ['\[','\]']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    for(var all in MathJax.Hub.getAllJax()) {
        all.SourceElement().parentNode.className += ' has-jax';

    }
});
</script>






  </body>
</html>

